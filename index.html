<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>OUTOFSPACE — Coming Soon</title>

  <meta name="description" content="OUTOFSPACE — Coming soon. Make your brand unforgettable!" />
  <meta name="theme-color" content="#0B0F1A" />

  <style>
    :root{
      --bg:#070A12;
      --bg2:#0B0F1A;
      --text:rgba(255,255,255,.92);
      --muted:rgba(255,255,255,.64);
      --stroke:rgba(255,255,255,.12);
      --glass:rgba(255,255,255,.04);
      --accent:#A6FF4D;
      --radius:28px;
    }

    *{ box-sizing:border-box; }
    html,body{ height:100%; }

    body{
      margin:0;
      font-family: system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial;
      color:var(--text);
      background:
        radial-gradient(1200px 800px at 18% 12%, #182042 0%, transparent 60%),
        radial-gradient(900px 700px at 85% 28%, #123524 0%, transparent 55%),
        linear-gradient(180deg,var(--bg),var(--bg2));
      overflow:hidden;
    }

    canvas#stars{
      position:fixed;
      inset:0;
      width:100%;
      height:100%;
      z-index:0;
      opacity:.9;
    }

    main{
      position:relative;
      z-index:1;
      min-height:100%;
      display:flex;
      align-items:center;
      justify-content:center;
      padding:28px 18px;
    }

    .wrap{
      width:min(860px, 100%);
      text-align:center;
    }

    .app{
      width:170px;
      height:170px;
      margin: 0 auto 12px;
      display:flex;
      align-items:center;
      justify-content:center;
      padding:0;
      background:transparent;
      border:none;
      box-shadow:none;
    }

    .app img{
      width:100%;
      height:100%;
      object-fit:contain;
      display:block;
    }

    .tagline{
      margin: 0 0 26px;
      font-size: 16px;
      line-height: 1.2;
      color: rgba(255,255,255,.74);
      letter-spacing: .01em;
    }

    h1{
      margin: 0 0 22px;
      font-size: clamp(44px, 6vw, 78px);
      line-height: 0.98;
      letter-spacing: -0.045em;
      font-weight: 900;
    }

    .line{
      display:block;
      white-space:nowrap;
    }

    .dynamic{
      color: var(--accent);
      display:inline-block;
      position:relative;
    }
    .caret{
      display:inline-block;
      width: 10px;
      height: 0.9em;
      margin-left: 6px;
      border-right: 3px solid rgba(166,255,77,.95);
      transform: translateY(2px);
      animation: blink 0.85s step-end infinite;
    }
    @keyframes blink{
      50%{ border-color: transparent; }
    }

    .emailRow{
      display:flex;
      justify-content:center;
      margin-top: 8px;
    }

    .btn{
      display:inline-flex;
      align-items:center;
      justify-content:center;
      padding: 14px 20px;
      border-radius: 18px;
      border: 1px solid var(--stroke);
      background: var(--glass);
      color: var(--text);
      text-decoration:none;
      font-weight: 800;
      font-size: 16px;
      letter-spacing: -0.01em;
      transition: transform .15s ease, background .15s ease, border-color .15s ease;
      min-width: 320px;
      cursor:pointer;
    }
    .btn:hover{
      transform: translateY(-1px);
      background: rgba(255,255,255,.07);
      border-color: rgba(255,255,255,.18);
    }

    .meta{
      margin-top: 32px;
      font-size: 12px;
      color: rgba(255,255,255,.45);
      letter-spacing:.02em;
    }

    @media (max-width: 520px){
      .app{ width:150px; height:150px; border-radius:40px; padding:10px; }
      .btn{ min-width: 100%; }
      .tagline{ font-size:15px; }
      .line{ white-space:normal; }
    }

    .dots{
      color: var(--accent);
      letter-spacing: .01em;
    }

    /* =========================
       MODAL (POP-UP) — GAME
       ========================= */
    .modal{
      position:fixed;
      inset:0;
      z-index:20;
      display:none;
    }
    .modal.is-open{ display:block; }

    .modal__backdrop{
      position:absolute;
      inset:0;
      background: rgba(0,0,0,.62);
      backdrop-filter: blur(10px);
      -webkit-backdrop-filter: blur(10px);
    }

    .modal__panel{
      position:relative;
      width:min(980px, calc(100% - 24px));
      margin: 18px auto;
      border-radius: 24px;
      border:1px solid rgba(255,255,255,.14);
      background: rgba(10,12,20,.78);
      box-shadow: 0 30px 120px rgba(0,0,0,.75);
      overflow:hidden;
    }

    .modal__top{
      display:flex;
      align-items:center;
      justify-content:space-between;
      padding: 12px 14px;
      border-bottom:1px solid rgba(255,255,255,.10);
    }

    .modal__title{
      font-weight: 900;
      letter-spacing: -0.02em;
      display:flex;
      align-items:center;
      gap:10px;
    }

    .badge{
      display:inline-flex;
      align-items:center;
      padding: 6px 10px;
      border-radius: 999px;
      border: 1px solid rgba(166,255,77,.30);
      background: rgba(166,255,77,.08);
      color: rgba(255,255,255,.88);
      font-weight: 800;
      font-size: 12px;
    }

    .modal__close{
      width:42px;
      height:42px;
      border-radius: 14px;
      border:1px solid rgba(255,255,255,.12);
      background: rgba(255,255,255,.06);
      color: rgba(255,255,255,.9);
      font-weight: 900;
      cursor:pointer;
    }

    .modal__body{
      padding: 12px 14px 16px;
    }

    .gameWrap{
      border-radius: 18px;
      border:1px solid rgba(255,255,255,.10);
      background: rgba(0,0,0,.35);
      overflow:hidden;
    }

    /* canvas responsive — keep crisp */
    #invadersCanvas{
      width:100%;
      height:auto;
      display:block;
      aspect-ratio: 900 / 520;
    }

    .modal__hint{
      margin-top:10px;
      font-size:12px;
      color: rgba(255,255,255,.55);
      display:flex;
      justify-content:space-between;
      gap:10px;
      flex-wrap:wrap;
    }
    .modal__hint b{ color: rgba(255,255,255,.85); }
    .modal__hint .green{ color: var(--accent); font-weight:800; }

    .toast{
      position: fixed;
      left: 50%;
      bottom: 22px;
      transform: translateX(-50%) translateY(20px);
      opacity:0;
      pointer-events:none;
      z-index: 50;
      padding: 10px 12px;
      border-radius: 14px;
      border:1px solid rgba(255,255,255,.14);
      background: rgba(0,0,0,.45);
      backdrop-filter: blur(10px);
      color: rgba(255,255,255,.9);
      font-size: 13px;
      transition: opacity .18s ease, transform .18s ease;
    }
    .toast.show{opacity:1; transform: translateX(-50%) translateY(0)}
  </style>
</head>

<body>
  <canvas id="stars"></canvas>

  <main>
    <div class="wrap">
      <div class="app" aria-label="OUTOFSPACE">
        <!-- put outofspace-logo.png next to index.html -->
        <img src="outofspace-logo.png" alt="OUTOFSPACE logo">
      </div>

      <div class="tagline">We make your brand unforgettable!</div>

      <h1 aria-label="Site currently in warp mode. Coming soon.">
        <span class="line">Site currently in</span>
        <span class="line">
          <span class="dynamic" id="dynamicText"></span><span class="caret" aria-hidden="true"></span><span class="dots">...</span>
        </span>
        <span class="line">Coming soon</span>
      </h1>

      <div class="emailRow">
        <a class="btn" href="mailto:ofspacemedia@gmail.com">ofspacemedia@gmail.com</a>
      </div>

      <!-- ✅ NEW: Play button (opens the modal) -->
      <div class="emailRow" style="margin-top:12px;">
        <button class="btn" id="playBtn" type="button">Play OUTOFSPACE Invaders</button>
      </div>

      <div class="meta">© 2025 OUTOFSPACE</div>
    </div>
  </main>

  <!-- ✅ MODAL (POP-UP) -->
  <div class="modal" id="gameModal" aria-hidden="true">
    <div class="modal__backdrop" id="modalBackdrop"></div>

    <div class="modal__panel" role="dialog" aria-modal="true" aria-label="OUTOFSPACE Invaders">
      <div class="modal__top">
        <div class="modal__title">
          OUTOFSPACE Invaders <span class="badge">BETA</span>
        </div>
        <button class="modal__close" id="modalClose" type="button" aria-label="Close">✕</button>
      </div>

      <div class="modal__body">
        <div class="gameWrap">
          <canvas id="invadersCanvas" width="900" height="520"></canvas>
        </div>

        <div class="modal__hint">
          <div><b>Controls:</b> ← → / Space • <span class="green">ESC</span> close</div>
          <div><b>Tip:</b> Press <span class="green">R</span> to restart</div>
        </div>
      </div>
    </div>
  </div>

  <div class="toast" id="toast">✅</div>

  <script>
    // --- Subtle animated starfield (premium, minimal) ---
    const canvas = document.getElementById("stars");
    const ctx = canvas.getContext("2d");

    let W, H, DPR, stars = [];

    function resize(){
      DPR = Math.min(window.devicePixelRatio || 1, 2);
      W = canvas.width = Math.floor(window.innerWidth * DPR);
      H = canvas.height = Math.floor(window.innerHeight * DPR);
      canvas.style.width = window.innerWidth + "px";
      canvas.style.height = window.innerHeight + "px";

      const count = Math.floor((window.innerWidth * window.innerHeight) / 16000);
      stars = Array.from({length: count}, () => ({
        x: Math.random() * W,
        y: Math.random() * H,
        v: (Math.random() * 0.28 + 0.08) * DPR,
        a: Math.random() * 0.55 + 0.18
      }));
    }

    function draw(){
      ctx.clearRect(0,0,W,H);
      for(const s of stars){
        s.y += s.v;
        if(s.y > H + 8){ s.y = -8; s.x = Math.random() * W; }
        ctx.fillStyle = `rgba(255,255,255,${s.a})`;
        ctx.fillRect(s.x, s.y, 1.2 * DPR, 1.2 * DPR);
      }
      requestAnimationFrame(draw);
    }

    window.addEventListener("resize", resize);
    resize();
    draw();

    // --- Typewriter rotation (changes every ~5s) ---
    const phrases = [
      "warp mode",
      "reconstruction",
      "sonic phase",
      "re-build mode",
      "light speed"
    ];

    const el = document.getElementById("dynamicText");

    const TYPE_MS = 65;
    const ERASE_MS = 35;
    const HOLD_MS = 5000;

    let idx = 0;
    let pos = 0;
    let isErasing = false;

    function tick(){
      const word = phrases[idx];

      if(!isErasing){
        pos++;
        el.textContent = word.slice(0, pos);
        if(pos >= word.length){
          setTimeout(() => { isErasing = true; tick(); }, HOLD_MS);
          return;
        }
        setTimeout(tick, TYPE_MS);
      } else {
        pos--;
        el.textContent = word.slice(0, pos);
        if(pos <= 0){
          isErasing = false;
          idx = (idx + 1) % phrases.length;
          setTimeout(tick, 220);
          return;
        }
        setTimeout(tick, ERASE_MS);
      }
    }
    tick();

    /* =========================================================
       OUTOFSPACE INVADERS — simple, self-contained game in modal
       ========================================================= */

    const playBtn = document.getElementById("playBtn");
    const gameModal = document.getElementById("gameModal");
    const modalClose = document.getElementById("modalClose");
    const modalBackdrop = document.getElementById("modalBackdrop");
    const toast = document.getElementById("toast");

    const gameCanvas = document.getElementById("invadersCanvas");
    const g = gameCanvas.getContext("2d");

    function showToast(msg){
      toast.textContent = msg;
      toast.classList.add("show");
      setTimeout(()=>toast.classList.remove("show"), 1000);
    }

    function openModal(){
      gameModal.classList.add("is-open");
      gameModal.setAttribute("aria-hidden", "false");
      startGame();
    }

    function closeModal(){
      gameModal.classList.remove("is-open");
      gameModal.setAttribute("aria-hidden", "true");
      stopGame();
    }

    playBtn.addEventListener("click", openModal);
    modalClose.addEventListener("click", closeModal);
    modalBackdrop.addEventListener("click", closeModal);

    window.addEventListener("keydown", (e) => {
      if(e.key === "Escape" && gameModal.classList.contains("is-open")) closeModal();
      if(gameModal.classList.contains("is-open") && (e.key === "r" || e.key === "R")) {
        resetGame();
        showToast("Restarted");
      }
    });

    // --- Game state ---
    let raf = null;
    let running = false;

    const keys = { left:false, right:false, space:false };

    window.addEventListener("keydown", (e) => {
      if(!gameModal.classList.contains("is-open")) return;
      if(e.key === "ArrowLeft") keys.left = true;
      if(e.key === "ArrowRight") keys.right = true;
      if(e.key === " " || e.code === "Space") keys.space = true;
    });

    window.addEventListener("keyup", (e) => {
      if(e.key === "ArrowLeft") keys.left = false;
      if(e.key === "ArrowRight") keys.right = false;
      if(e.key === " " || e.code === "Space") keys.space = false;
    });

    const WORLD = { w: 900, h: 520 };

    let player, bullets, aliens, alienBullets, score, lives;
    let lastShot = 0;
    let alienDir = 1;
    let alienStepTimer = 0;
    let alienShootTimer = 0;
    let gameOver = false;
    let win = false;

    function resetGame(){
      player = { x: WORLD.w/2, y: WORLD.h-52, w: 54, h: 14, speed: 420 };
      bullets = [];
      alienBullets = [];
      score = 0;
      lives = 3;
      gameOver = false;
      win = false;

      // build alien grid
      aliens = [];
      const cols = 10, rows = 5;
      const startX = 120, startY = 90;
      const gapX = 62, gapY = 46;

      for(let r=0;r<rows;r++){
        for(let c=0;c<cols;c++){
          aliens.push({
            x: startX + c*gapX,
            y: startY + r*gapY,
            w: 32,
            h: 22,
            alive: true,
            tier: r
          });
        }
      }

      alienDir = 1;
      alienStepTimer = 0;
      alienShootTimer = 0;
      lastShot = 0;
    }

    function startGame(){
      // ensure crisp rendering even if canvas is scaled by CSS
      gameCanvas.width = WORLD.w;
      gameCanvas.height = WORLD.h;

      resetGame();
      running = true;
      raf = requestAnimationFrame(loop);
    }

    function stopGame(){
      running = false;
      if(raf) cancelAnimationFrame(raf);
      raf = null;
      // clear canvas when closing (optional)
      g.clearRect(0,0,WORLD.w,WORLD.h);
    }

    function firePlayerBullet(){
      const now = performance.now();
      if(now - lastShot < 180) return;
      lastShot = now;

      bullets.push({
        x: player.x,
        y: player.y - 12,
        r: 3,
        vy: -720
      });
    }

    function fireAlienBullet(fromAlien){
      alienBullets.push({
        x: fromAlien.x,
        y: fromAlien.y + fromAlien.h/2,
        r: 3,
        vy: 420
      });
    }

    function aliveAliens(){
      return aliens.filter(a => a.alive);
    }

    function rectHitCircle(rx, ry, rw, rh, cx, cy, cr){
      const nx = Math.max(rx, Math.min(cx, rx+rw));
      const ny = Math.max(ry, Math.min(cy, ry+rh));
      const dx = cx - nx;
      const dy = cy - ny;
      return (dx*dx + dy*dy) <= cr*cr;
    }

    function update(dt){
      if(gameOver || win) return;

      // player move
      const move = (keys.right ? 1 : 0) - (keys.left ? 1 : 0);
      player.x += move * player.speed * dt;
      player.x = Math.max(player.w/2 + 30, Math.min(WORLD.w - player.w/2 - 30, player.x));

      if(keys.space) firePlayerBullet();

      // bullets update
      for(const b of bullets) b.y += b.vy * dt;
      bullets = bullets.filter(b => b.y > -40);

      for(const b of alienBullets) b.y += b.vy * dt;
      alienBullets = alienBullets.filter(b => b.y < WORLD.h + 40);

      // alien movement (step-based for classic feel)
      alienStepTimer += dt;
      const alive = aliveAliens();
      const speedFactor = Math.max(0.22, 0.65 - alive.length * 0.008); // faster as fewer remain

      if(alienStepTimer >= speedFactor){
        alienStepTimer = 0;

        // compute bounds
        let minX = Infinity, maxX = -Infinity;
        for(const a of alive){
          minX = Math.min(minX, a.x - a.w/2);
          maxX = Math.max(maxX, a.x + a.w/2);
        }

        const stepX = 14 * alienDir;
        const hitWall = (maxX + stepX > WORLD.w - 60) || (minX + stepX < 60);

        if(hitWall){
          alienDir *= -1;
          for(const a of alive) a.y += 16;
        } else {
          for(const a of alive) a.x += stepX;
        }

        // if aliens reach player line => game over
        for(const a of alive){
          if(a.y + a.h/2 >= player.y - 10){
            gameOver = true;
          }
        }
      }

      // alien shooting
      alienShootTimer += dt;
      if(alienShootTimer >= 0.75){
        alienShootTimer = 0;
        const shooters = aliveAliens();
        if(shooters.length){
          const pick = shooters[Math.floor(Math.random() * shooters.length)];
          fireAlienBullet(pick);
        }
      }

      // collisions: player bullets vs aliens
      for(const b of bullets){
        for(const a of aliens){
          if(!a.alive) continue;
          if(rectHitCircle(a.x-a.w/2, a.y-a.h/2, a.w, a.h, b.x, b.y, b.r)){
            a.alive = false;
            b.y = -9999;
            score += 50;
            break;
          }
        }
      }
      bullets = bullets.filter(b => b.y > -500);

      // collisions: alien bullets vs player
      for(const b of alienBullets){
        if(rectHitCircle(player.x-player.w/2, player.y-player.h/2, player.w, player.h, b.x, b.y, b.r)){
          b.y = 9999;
          lives -= 1;
          showToast(lives > 0 ? `Hit • ${lives} lives` : "Game over");
          if(lives <= 0) gameOver = true;
        }
      }
      alienBullets = alienBullets.filter(b => b.y < WORLD.h + 200);

      if(aliveAliens().length === 0){
        win = true;
        showToast("You win");
      }
    }

    function drawGame(){
      // background
      g.clearRect(0,0,WORLD.w,WORLD.h);

      // subtle vignette
      const grd = g.createLinearGradient(0,0,WORLD.w,WORLD.h);
      grd.addColorStop(0, "rgba(0,0,0,.20)");
      grd.addColorStop(1, "rgba(0,0,0,.45)");
      g.fillStyle = grd;
      g.fillRect(0,0,WORLD.w,WORLD.h);

      // HUD
      g.fillStyle = "rgba(255,255,255,.85)";
      g.font = "800 16px system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial";
      g.fillText(`Score: ${score}`, 18, 28);

      g.fillStyle = "rgba(166,255,77,.95)";
      g.fillText(`Lives: ${lives}`, WORLD.w - 96, 28);

      // player
      g.fillStyle = "rgba(255,255,255,.90)";
      g.fillRect(player.x - player.w/2, player.y - player.h/2, player.w, player.h);

      // player "cannon"
      g.fillStyle = "rgba(166,255,77,.95)";
      g.fillRect(player.x - 6, player.y - player.h/2 - 8, 12, 8);

      // aliens
      for(const a of aliens){
        if(!a.alive) continue;
        const alpha = 0.92;
        // different tiers feel slightly different
        const isGreen = (a.tier % 2 === 0);
        g.fillStyle = isGreen ? `rgba(166,255,77,${alpha})` : `rgba(255,255,255,${alpha})`;
        g.fillRect(a.x - a.w/2, a.y - a.h/2, a.w, a.h);
      }

      // bullets
      g.fillStyle = "rgba(166,255,77,.95)";
      for(const b of bullets){
        g.beginPath();
        g.arc(b.x, b.y, b.r, 0, Math.PI*2);
        g.fill();
      }

      g.fillStyle = "rgba(255,255,255,.85)";
      for(const b of alienBullets){
        g.beginPath();
        g.arc(b.x, b.y, b.r, 0, Math.PI*2);
        g.fill();
      }

      // overlays
      if(gameOver || win){
        g.fillStyle = "rgba(0,0,0,.55)";
        g.fillRect(0,0,WORLD.w,WORLD.h);

        g.fillStyle = "rgba(255,255,255,.92)";
        g.font = "900 46px system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial";
        g.textAlign = "center";
        g.fillText(win ? "UNFORGETTABLE." : "GAME OVER", WORLD.w/2, WORLD.h/2 - 18);

        g.fillStyle = "rgba(166,255,77,.95)";
        g.font = "800 18px system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial";
        g.fillText("Press R to restart • ESC to close", WORLD.w/2, WORLD.h/2 + 22);
        g.textAlign = "left";
      }
    }

    let lastT = performance.now();
    function loop(t){
      if(!running) return;
      const dt = Math.min(0.033, (t - lastT) / 1000);
      lastT = t;

      update(dt);
      drawGame();

      raf = requestAnimationFrame(loop);
    }
  </script>
</body>
</html>
